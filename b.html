<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Bootstrap</title>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<script src="/js/jquery-3.5.1.min.js"></script>
</head>
<body>
<div class="container">
	<div class="row">
		<div class="col-sm">
			<form id="main-form">
				<div class="form-group">
					<label for="exampleFormControlInput1">Email address</label>
					<input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
				</div>
				<div class="form-group">
					<label for="exampleFormControlSelect1">Example select</label>
					<select class="form-control" id="exampleFormControlSelect1">
						<option>1</option>
						<option>2</option>
						<option>3</option>
						<option>4</option>
						<option>5</option>
					</select>
				</div>
				<div class="form-group">
					<label for="exampleFormControlSelect2">Example multiple select</label>
					<select multiple class="form-control" id="exampleFormControlSelect2">
						<option>1</option>
						<option>2</option>
						<option>3</option>
						<option>4</option>
						<option>5</option>
					</select>
				</div>
				<div class="form-group">
					<label for="exampleFormControlTextarea1">Example textarea</label>
					<textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
				</div>
			</form>
			<br>
			<button id="submit_btn" type="button" class="btn btn-primary">Submit</button>
		</div>
	</div>
</div>


<br><br><br>

<div class="replaceImages">
	<img src="/img/kitty1.jpg" alt="кошка" title="кошка" data-id="500">
	<img src="/img/kitty2.jpg" alt="кошка" data-id="501">
	<img src="/img/kitty3.jpg" alt="кошка" title="кошка" data-id="505">
	<img src="/img/parrot1.jpg" alt="попугай" data-id="523">
	<img src="/img/parrot2.jpg" alt="попугай" data-id="525">
	<img src="/img/parrot3.jpg" alt="попугай" data-id="535">
</div>
<br><br><br>
<button id="fade_btn" type="button" class="btn btn-primary">Скрыть</button>
<br><br><br>
<script>

	$('#submit_btn').click(function(){
		const res = {};

    res.email = $('#main-form input').val();
    res.Example1 = $('#main-form select:first').val();
    res.Example2 = $('#main-form select:last').val();
    res.textArea = $('#main-form textarea').val();
    $('#main-form').trigger('reset');
    console.log('Form Result: ', res);
	});



  $('#main-form input').val('Привет мир!!!');



  //////// $('#submit_btn').bind() - подписаться на события

  // $('#submit_btn').bind('click dblclick', handler)
  $('#submit_btn').bind('dblclick', function (event) { //
    console.log('Нажали двойной клик');
	})

  // $('#submit_btn').unbind('click', callbackname) - отмена подписки на событие


	/////// $(...).trigger( __event_name__, data) - запустить (симулировать) событие в браузере
	// __event_name__ - имя события, которое хотим сгенерировать
	// data - дополнительные данные, которые вы хотите кинуть в функцию-обработчик события
	// эти данные попадут в функцию в качестве второго параметра


	// $(document).ready( __callback__ ) - выполнить действие, когда вообще весь документы со всеми ресурсами загрузится
	// $(document).load( __callback__ ) - выполнить действие, когда вообще документы загрузится

	//////// проверить загрузку изображения

	// const img1Src = '/img/dog7.jpg';
	//
  // $('<img>').bind('load', () => {
  //   console.log('Картинка с песиком загружена!!!');
	// }).bind('error', () => {
  //   console.log('Ошибка загрузки картинки!!!');
	// }).attr('src', img1Src);


  function resizeImage() {
    $('.replaceImages img').each(function (index, item) {
			const maxWidth = 250;
			const maxHeight = 200;
			let ratio = 0;

			const imageWidth = $(item).width();
			const imageHeight = $(item).height();

			if (imageWidth > maxWidth) {
        ratio = maxWidth / imageWidth;
        $(item).css({
					width: maxWidth,
					height: imageHeight * ratio,
				});
			}

      console.log('Image:', $(item).attr('src'), imageWidth, imageHeight);
			if (maxHeight > imageHeight) {
        console.log('New:', imageWidth * ratio, maxHeight);

        ratio = maxHeight / imageHeight;
        $(item).css({
          width: imageWidth * ratio,
          height: maxHeight,
        });
			}
		});
	}

	$(document).ready(resizeImage);

  let imageVisibility = true;

  $('#fade_btn').bind('click', function (){
    console.log('In')
		if (imageVisibility) {
      $('.replaceImages img').fadeOut('slow');
		} else {
      $('.replaceImages img').fadeIn('slow');
		}

    imageVisibility = !imageVisibility;
	})

</script>

</body>
</html>
